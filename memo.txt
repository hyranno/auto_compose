npm run dev
http://localhost:3000

TypeScript + SolidJS + SCSS
Tone.js

パラメータ
  JSON Schema + JSON ?
  Protocol Buffers ?

位置付け
  作曲補助
やらないこと
  完璧な音楽を目指す
  テクニックを網羅する


TODO:
  SolidJS: Hello World
  ピアノロールの表示
  Keyの表示
  Scaleの表示
  Cadenceの生成, 表示
    WeightedRandom
    Timeline
    MarkovChain
  ChordRootの生成, 表示
  Chordの生成, 表示
  Chord音の再生
    Tone.js
    TunePlayer.tsx
  Rhythmの生成
  Noteの生成, 表示
  Note音の再生
  設定画面の表示
  デザイン整える
    detail/summary
  既存データからの展開
    Timeline.merge
    Timeline.getIndex
    線形代数パッケージ
      vectorious
    斉時的有限状態マルコフ連鎖
      定常確率ベクトル
      後退遷移行列
      マルコフ連鎖の補間
    VariantGenerator
      Cadence, Chord, Pitch, Rhythm
    default ParametersのJSONからの読み込み
  Note生成の改善
    isNoteOnの設定と反映
  Resolution(終止)の導入
    Cadence 開始と終止を設定
  //
  Variation生成の改善
    終止変更
    RhythmVariantGenerator
      RhythmGeneratorも再構築
      time_measure(4,4)以外へも対応
  time_measure(4,4)以外への対応
    Cadence
    PianoRoll
  UI追加
    scale
      key:number, tones:enum
    resolution:enum
  設定ファイル例を追加
    シンプル
    短調
  MIDIファイル出力
    ToneJS/Midi
    Cadence表記トラック(メタイベント)を作ってもよい?
  Parameters.JSON出力
  ドキュメント(HTML)作成


やらないでいいかも
  Chord生成の改善
    借用, 転回
  Resolutionの影響
    Chord, Note


リファクタリング
  Generatorをクラスでなく関数にする
    名前も単に Parameters, ParametersUiAdapter, generate にする
  regularity=1でいいのでは?
  rhythmExponentFactor は relPitchFactor にはかけない方がいい?


画面構成
  パラメータ設定
    Cadence
      seed
      Duration
    Chord
      Root
        seed
      Tones
        seed
    Rhythm
      seed
      pLeaf
      pNoteOn
    Note
      seed
      absPitchFactor
      relPitchFactor
      factorInScale
      factorInChord
      rhythmExponentFactor
      regularity
  出力結果
    ピアノロール
      横に時間軸、縦に音高
    Key, Scale, Chord, Note ... 音高に色
    Cadence ... 上端に表記
    音高 ... 左端に表記



Key
  絶対音高
  12平均律, MIDIノートナンバー(69 = A4 = 440Hz)
Scale
  Keyからの相対音高ベクタ
  static でプリセットを取り揃える
Cadence
  Enum
CadenceGenerator
  オートマトン?
  パラメータ
    seed
    T/D/SD -> T/D/SD 重み
    小説位置ごとの T/D/SD 重み
  gen() -> Timeline<Cadence>
Chord
  Scale上でのKeyからの相対index
ChordGenerator
  無記憶情報源
  パラメータ
    seed
    T/D/SD ごとの WeightedRandom<Chord>
  gen(Timeline<Cadence>) -> Timeline<Chord>
Rhythm
  木
  パラメータ
    seed
NoteGenerator
  パラメータ
    seed
